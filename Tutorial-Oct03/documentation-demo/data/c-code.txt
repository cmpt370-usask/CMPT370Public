#define BUFFER_LEN 1024 #define CONFIG_DIR WEBOS_INSTALL_SYSCONFDIR "/pmlog.d" #define OVERRIDES_CONF WEBOS_INSTALL_PREFERENCESDIR "/pmloglib/overrides.conf" #define MSGID_LEN 32 #define PIDSTR_LEN 32  void block_signals(sigset_t *old_set) { 	sigset_t new_set; 	sigfillset(&new_set); 	pthread_sigmask(SIG_SETMASK, &new_set, old_set); }  void unblock_signals(sigset_t *old_set) { 	pthread_sigmask(SIG_SETMASK, old_set, NULL); }  void CallSysLog(const char *context, const int level, const char* pidtid, const char* fmt, ...) { 	char buffer[1024] = {0,}; 	int index = 0; 	va_list args; 	index = snprintf(buffer, sizeof(buffer), "%s %s %s ", pidtid, PMLOG_IDENTIFIER, context); 	va_start (args, fmt); 	g_vsnprintf (buffer + index, sizeof(buffer), fmt, args); 	va_end (args);  	sigset_t old_set; 	block_signals(&old_set); 	syslog(level, "%s", buffer); 	unblock_signals(&old_set); }